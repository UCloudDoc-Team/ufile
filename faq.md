# 常见问题

## 对象存储空间和 Key 是什么？

对象存储空间（简称存储空间）是文件的组织管理单位，一个文件必然位于某个空间中。空间名称全局唯一，且无法进行修改。

文件名是对应文件的名称，在存储空间中全局唯一，每个文件名在存储空间均标识了一个文件，写入文件时，用户可以自定义文件名。上传同样文件名的文件，会导致原文件名文件被覆盖。

## 公共空间和私有空间有何区别？

公共空间指任何人都可以直接通过URL访问该空间里的文件，不需要授权签名。

私有空间需要根据API公私钥生成正确的签名才能访问文件。

## 如何查看及管理上传的文件？

用户可以通过控制台的文件管理页查看已上传的文件，同时也可以使用文件管理工具或API查看已经上传的文件。

## 是否支持目录、文件列表？

对象存储空间没有目录的概念，所以不能按照目录列出文件列表。

但上传文件时，Key 依然沿用目录形式，便于特定的用户使用场景需要。

例如：demobucket.ufile.ucloud.cn/test/a.jpg 这里的 key=test/a.jpg 。

## 如何使用对象存储空间提供的两个域名？

每个存储空间默认提供一个存储空间域名与一个 CDN 加速域名。

文件上传操作必须将请求发往存储空间域名。

文件下载操作可以通过访问存储空间域名或 CDN 加速域名进行。文件下载时建议使用 CDN 加速域名进行下载，以获得更好的下载体验。

## 我可以存储多少数据？对象存储空间是否有容量上限？

您可以存储的总数据容量和对象个数不受限制，您可以按需使用。

## 文件大小有什么限制？

单个文件大小上限为 5TB。

## 对象存储空间如何通过内网访问？

1. 空间管理的 API，内网访问时域名同公网，使用`api.ucloud.cn`。

2. 文件管理的 API，需要使用内网专用域名`<bucket_name>.ufile.cn-north-02.ucloud.cn`。

例如，bucket 名称为 demobucket，则其内网域名为`demobucket.ufile.cn-north-02.ucloud.cn`。

3. 文件管理的 API 列表如下：PutFile，PostFile，UploadHit，GetFile，DeleteFile，InitiateMultipartUpload，UploadPart，FinishMultipartUpload，AbortMultipartUpload。

4. 命令行工具，通过内网访问，需要将配置文件中的 `proxy_host` 改成` "proxy_host":'www.ufile.cn-north-02.ucloud.cn'`。

5. SDK（以 phpSDK 为例）通过内网访问，需要将配置文件中 `$UCLOUD\_PROXY\_SUFFIX` 改成 `$UCLOUD\_PROXY\_SUFFIX = 'ufile.cn-north-02.ucloud.cn'`（其他 SDK 的配置文件通常改 proxy_suffix)。

##  如何删除大量对象？

您可以通过设置 [生命周期](/ufile/guide/lifecycle) 的方式，对存储桶内文件进行删除操作。

##  US3 域名被第三方平台告知有安全风险怎么处理？

第三方平台的安全检测是基于泛域名做检测及封禁处理，而 US3 不同客户的域名使用同一个泛域名，因此只要有一个客户有违规内容，整个 US3 默认域名都会被安全软件封禁。

这个问题我们和第三方平台沟通过多次，对方以按照逐个域名做封禁成本太大为由拒绝。因此遇到封禁情况的客户，建议通过使用自定义域名解决。配置方法参考 [域名管理](/ufile/guide/domain)。

## 有跨域需求时如何申请？

如需在 US3 配置跨域，需要指派工单至技术支持，工单内注明：bucket 名称、US3 域名、Origin 地址和要跨域的 http method。

## CDN 回源 US3 的流量如何计费？

CDN 回源，流量从 US3 流向 UCDN，这部分流量 UCDN 不计费，由 US3 计费，请参考下图：

![](/images/UCDN回源US3.png)
计费价格详见：[计量计费](/ufile/bill/new)

## 镜像回源支持的空间类型

镜像回源没有签名的过程，目前只支持公开空间。

## 我的账号为何无法进行存储空间或文件操作？

如果您的账号在控制台操作中提示`291:[xxx]该账户没有执行对应 Action 和产品类型的权限`，表示您当前使用的子账号未被授权进行相关 US3 对象存储操作权限，请联系主账号管理员开通相关权限。

## 如何存储额外的文件元数据信息？

US3 API 支持用户存储不超过 8KB 的自定义元数据，在用户调用 API 进行文件上传请求时，可在请求头中增加 `X-Ufile-Meta-*` 字段，如增加文件 MD5 信息，可增加请求头 `X-Ufile-Meta-MD5` ，在执行 Head、Get 请求时，可从 Response Header 中获取 `X-Ufile-Meta-MD5:[*]` 的内容。更多内容可参考[对象存储API文档](https://docs.ucloud.cn/api/ufile-api/README)

**注意：Header 请求中 `X-Ufile-Meta-xxx` 限制 `xxx` 只能包含英文字母、数字和连接符（短横线 '-'）**

## 子帐号授权后进入文件管理页面提示：非法授权

1. 添加子账号时，如果没有选择 "API访问" 那么这个子账号默认就是没有密钥的

![](/images/子账号授权_1.png)

2. 有两个修改入口

- 有管理权限的账号：到用户管理页面，进入具体某个用户的详情页，然后创建密钥

![](/images/子账号授权_2.png)

- 为当前登录的账号创建密钥：到当前账号的账号管理页面，点击API密钥菜单，进行创建密钥

![](/images/子账号授权_3.png)

第1种适合管理人员操作，第2种适合子账号给自己创建密钥

## 为什么使用Firefox浏览器时，无法批量解冻以及下载已解冻的归档文件等解冻相关操作？

使用Firefox浏览器无法批量解冻、批量或单文件下载已解冻的归档文件、以及解冻状态展示的原因是Firefox浏览器存在兼容性问题。

解决方法：

- 更换浏览器（如Chrome浏览器），确认该文件的解冻状态：
  1. 如“未解冻”，即可以操作解冻按钮，用户可以重试解冻后，再对已解冻的文件进行相关操作；
  2. 如“已解冻”，即控制台直接展示该状态，用户无需重复操作解冻，可以直接访问该已解冻文件。

## 怎么查看bucket粒度的账单?

![](/images/pic/bucket_pay.png)

进入统计报表->选择具体的bucket或者所有空间->选择费用数据csv->下载
